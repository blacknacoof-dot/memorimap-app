// ============================================
// App.tsxì— ì¶”ê°€í•  ì½”ë“œ ì¡°ê°ë“¤
// ============================================

// ğŸ“ ìœ„ì¹˜ 1: ë¼ì¸ 29 ë‹¤ìŒ (lazy load imports ì„¹ì…˜)
const SangjoConsultationModal = React.lazy(() => import('./components/Consultation/SangjoConsultationModal').then(m => ({ default: m.SangjoConsultationModal })));

// ğŸ“ ìœ„ì¹˜ 2: ë¼ì¸ 80 ë‹¤ìŒ (Funeral Company State ì„¹ì…˜)
const [showSangjoAIConsult, setShowSangjoAIConsult] = useState(false);

// ğŸ“ ìœ„ì¹˜ 3: ë¼ì¸ 1108-1111 êµì²´ (FuneralCompanySheetì˜ onConsult prop)
// ê¸°ì¡´:
onConsult={() => {
  showToast("ìƒë‹´ ì‹ ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ê³§ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.");
  setSelectedFuneralCompany(null);
}}

// ë³€ê²½ í›„:
onOpenAIConsult={() => {
  setShowSangjoAIConsult(true);
}}

// ğŸ“ ìœ„ì¹˜ 4: ë¼ì¸ 1115 ë‹¤ìŒ (selectedFuneralCompany ë¸”ë¡ ë‹¤ìŒ)
{
  showSangjoAIConsult && (
    <Suspense fallback={<div className="fixed inset-0 z-50 flex items-center justify-center bg-black/20"><div className="bg-white p-3 rounded-full shadow-lg"><div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div></div></div>}>
      <SangjoConsultationModal
        onClose={() => {
          setShowSangjoAIConsult(false);
          setSelectedFuneralCompany(null);
        }}
      />
    </Suspense>
  )
}
